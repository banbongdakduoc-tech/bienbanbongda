<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <title>Bi√™n b·∫£n Tr·∫≠n ƒë·∫•u</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>
<header class="app-header">
  <div class="brand">
    <div class="dot"></div>
    <div class="title">Bi√™n b·∫£n Tr·∫≠n ƒë·∫•u</div>
  </div>
  <div class="toolbar">
    <button id="btnNewMatch" class="btn ghost">üÜï Tr·∫≠n m·ªõi</button>
    <button id="btnOpenFinish" class="btn success">‚úÖ K·∫øt th√∫c tr·∫≠n & Xem t·ªïng k·∫øt</button>
  </div>
</header>

<main class="main">

  <!-- QU·∫¢N L√ù ƒê·ªòI -->
  <section class="card">
    <div class="header-row">
      <h2>1. Qu·∫£n l√Ω ƒë·ªôi b√≥ng</h2>
      <div class="row">
        <button id="btnSaveTeam" class="btn">üíæ L∆∞u ƒë·ªôi</button>
      </div>
    </div>
    <p class="note">
      L∆∞u danh s√°ch ƒë·ªôi v√†o tr√¨nh duy·ªát. Sau ƒë√≥ c√≥ th·ªÉ ch·ªçn ƒë·ªôi v√†o tr·∫≠n, kh√¥ng c·∫ßn nh·∫≠p l·∫°i.<br/>
      - T√™n ƒë·ªôi <strong>b·∫Øt bu·ªôc</strong><br/>
      - Danh s√°ch c·∫ßu th·ªß: S·ªë √°o + T√™n c·∫ßu th·ªß
    </p>

    <div class="grid g2">
      <div class="fc">
        <label>T√™n ƒë·ªôi</label>
        <input id="teamNameInput" type="text" placeholder="VD: FC A" />
      </div>
      <div class="fc">
        <label>Ghi ch√∫ (tu·ª≥ ch·ªçn)</label>
        <input id="teamNoteInput" type="text" placeholder="VD: Captain: Minh #10" />
      </div>
    </div>

    <div class="players-card">
      <div class="players-header">
        <h3>Danh s√°ch c·∫ßu th·ªß</h3>
        <button id="btnAddPlayerRow" class="btn ghost small">‚ûï Th√™m c·∫ßu th·ªß</button>
      </div>
      <table class="table">
        <thead>
          <tr>
            <th style="width:80px">S·ªë √°o</th>
            <th>C·∫ßu th·ªß</th>
            <th style="width:60px"></th>
          </tr>
        </thead>
        <tbody id="playersTableBody">
          <!-- dynamic rows -->
        </tbody>
      </table>
    </div>

    <div class="saved-teams">
      <h3>ƒê·ªôi ƒë√£ l∆∞u</h3>
      <div id="savedTeamsList" class="saved-list">
        <!-- dynamic cards -->
      </div>
    </div>
  </section>

  <!-- TH√îNG TIN TR·∫¨N ƒê·∫§U -->
  <section class="card">
    <div class="header-row">
      <h2>2. Thi·∫øt l·∫≠p tr·∫≠n ƒë·∫•u</h2>
    </div>

    <div class="grid g2">
      <div class="fc">
        <label>ƒê·ªôi A</label>
        <select id="teamASelect"></select>
      </div>
      <div class="fc">
        <label>ƒê·ªôi B</label>
        <select id="teamBSelect"></select>
      </div>

      <div class="fc">
        <label>Th·ªùi gian b·∫Øt ƒë·∫ßu</label>
        <input id="matchDateTime" type="datetime-local" />
      </div>
      <div class="fc">
        <label>ƒê·ªãa ƒëi·ªÉm (tu·ª≥ ch·ªçn)</label>
        <input id="matchLocation" type="text" placeholder="VD: S√¢n A1" />
      </div>
    </div>

    <div id="scoreBoard" class="scoreboard">
      <div class="team-col">
        <div class="team-name" id="scoreTeamA">ƒê·ªôi A</div>
        <div class="score-num" id="scoreGoalsA">0</div>
      </div>
      <div class="score-mid">vs</div>
      <div class="team-col">
        <div class="team-name" id="scoreTeamB">ƒê·ªôi B</div>
        <div class="score-num" id="scoreGoalsB">0</div>
      </div>
    </div>
    <div class="note small-note">T·ªâ s·ªë t·ª± c·∫≠p nh·∫≠t theo danh s√°ch b√†n th·∫Øng.</div>
  </section>

  <!-- S·ª∞ KI·ªÜN B√ÄN TH·∫ÆNG -->
  <section class="card">
    <div class="header-row">
      <h2>3. B√†n th·∫Øng</h2>
      <div class="row">
        <button id="btnAddGoal" class="btn ghost small">‚ûï Th√™m b√†n th·∫Øng</button>
      </div>
    </div>

    <div class="grid g4 action-row">
      <div class="fc">
        <label>Ph√∫t</label>
        <input id="goalMinute" type="number" min="0" placeholder="VD: 23" />
      </div>
      <div class="fc">
        <label>ƒê·ªôi</label>
        <select id="goalTeam"></select>
      </div>
      <div class="fc">
        <label>C·∫ßu th·ªß ghi b√†n</label>
        <select id="goalPlayer"></select>
      </div>
      <div class="fc">
        <label>Ghi ch√∫ (tu·ª≥ ch·ªçn)</label>
        <input id="goalNote" type="text" placeholder="VD: s√∫t xa" />
      </div>
    </div>

    <table class="table" id="goalsTable">
      <thead>
        <tr>
          <th style="width:60px">Ph√∫t</th>
          <th style="width:120px">ƒê·ªôi</th>
          <th>C·∫ßu th·ªß</th>
          <th>Ghi ch√∫</th>
          <th style="width:60px"></th>
        </tr>
      </thead>
      <tbody id="goalsTbody"></tbody>
    </table>
  </section>

  <!-- S·ª∞ KI·ªÜN TH·∫∫ -->
  <section class="card">
    <div class="header-row">
      <h2>4. Th·∫ª ph·∫°t</h2>
      <div class="row">
        <button id="btnAddCard" class="btn ghost small">‚ûï Th√™m th·∫ª</button>
      </div>
    </div>

    <div class="grid g4 action-row">
      <div class="fc">
        <label>Ph√∫t</label>
        <input id="cardMinute" type="number" min="0" placeholder="VD: 45+2" />
      </div>
      <div class="fc">
        <label>ƒê·ªôi</label>
        <select id="cardTeam"></select>
      </div>
      <div class="fc">
        <label>C·∫ßu th·ªß</label>
        <select id="cardPlayer"></select>
      </div>
      <div class="fc">
        <label>Lo·∫°i th·∫ª</label>
        <select id="cardType">
          <option value="V√†ng">V√†ng</option>
          <option value="ƒê·ªè">ƒê·ªè</option>
        </select>
      </div>
    </div>

    <table class="table" id="cardsTable">
      <thead>
        <tr>
          <th style="width:60px">Ph√∫t</th>
          <th style="width:120px">ƒê·ªôi</th>
          <th>C·∫ßu th·ªß</th>
          <th style="width:80px">Th·∫ª</th>
          <th style="width:60px"></th>
        </tr>
      </thead>
      <tbody id="cardsTbody"></tbody>
    </table>
  </section>

  <!-- T·ªîNG K·∫æT TR·∫¨N (ch·ªâ xu·∫•t hi·ªán sau khi Ho√†n th√†nh trong popup) -->
  <section class="card" id="summaryCard" style="display:none;">
    <div class="header-row">
      <h2>5. T·ªïng k·∫øt tr·∫≠n ƒë·∫•u</h2>
    </div>

    <div class="summary-box">
      <div class="sum-line"><strong>ƒê·ªôi A:</strong> <span id="sumTeamA"></span></div>
      <div class="sum-line"><strong>ƒê·ªôi B:</strong> <span id="sumTeamB"></span></div>
      <div class="sum-line"><strong>T·ªâ s·ªë cu·ªëi:</strong> <span id="sumScore"></span></div>
      <div class="sum-line"><strong>Th·ªùi gian:</strong> <span id="sumTime"></span></div>
      <div class="sum-line"><strong>ƒê·ªãa ƒëi·ªÉm:</strong> <span id="sumLocation"></span></div>
      <div class="sum-line"><strong>Tr·ªçng t√†i:</strong> <span id="sumReferee"></span></div>
      <div class="sum-line"><strong>ƒê·ªôi tr∆∞·ªüng A:</strong> <span id="sumCaptainA"></span></div>
      <div class="sum-line"><strong>ƒê·ªôi tr∆∞·ªüng B:</strong> <span id="sumCaptainB"></span></div>
    </div>

    <div class="split-wrap" style="margin-top:16px;">
      <div class="half">
        <h3>B√†n th·∫Øng</h3>
        <table class="table" id="summaryGoalsTable">
          <thead>
            <tr>
              <th>#</th>
              <th>Ph√∫t</th>
              <th>ƒê·ªôi</th>
              <th>C·∫ßu th·ªß</th>
              <th>Ghi ch√∫</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>

      <div class="half">
        <h3>Th·∫ª ph·∫°t</h3>
        <table class="table" id="summaryCardsTable">
          <thead>
            <tr>
              <th>#</th>
              <th>Ph√∫t</th>
              <th>ƒê·ªôi</th>
              <th>C·∫ßu th·ªß</th>
              <th>Th·∫ª</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>

    <div class="sign-row">
      <div class="sign-col">
        <div class="sign-label">ƒê·ªôi tr∆∞·ªüng A</div>
        <img id="sumSigA" class="sign-img" alt="Ch·ªØ k√Ω ƒë·ªôi tr∆∞·ªüng A"/>
      </div>
      <div class="sign-col">
        <div class="sign-label">ƒê·ªôi tr∆∞·ªüng B</div>
        <img id="sumSigB" class="sign-img" alt="Ch·ªØ k√Ω ƒë·ªôi tr∆∞·ªüng B"/>
      </div>
      <div class="sign-col">
        <div class="sign-label">Tr·ªçng t√†i</div>
        <img id="sumSigR" class="sign-img" alt="Ch·ªØ k√Ω tr·ªçng t√†i"/>
      </div>
    </div>

    <div class="note small-note" style="margin-top:12px;">
      ƒê√¢y l√† b·∫£n t·ªïng k·∫øt cu·ªëi c√πng. B·∫°n c√≥ th·ªÉ ch·ª•p m√†n h√¨nh / in (Ctrl+P).
    </div>
  </section>

</main>

<div id="toast" class="toast hidden"></div>

<!-- POPUP X√ÅC NH·∫¨N K·∫æT TH√öC TR·∫¨N -->
<div id="overlay" class="overlay hidden"></div>
<div id="finishModal" class="modal hidden">
  <div class="modal-header">
    <h3>Ho√†n t·∫•t tr·∫≠n ƒë·∫•u</h3>
    <button class="icon" id="closeFinishModal">‚úï</button>
  </div>

  <div class="modal-body">
    <p class="note">
      Ki·ªÉm tra t·ªâ s·ªë cu·ªëi v√† cho c√°c b√™n k√Ω x√°c nh·∫≠n.
    </p>

    <div class="preview-box">
      <div><strong>Tr·∫≠n:</strong> <span id="previewTeams"></span></div>
      <div><strong>T·ªâ s·ªë t·∫°m:</strong> <span id="previewScore"></span></div>
    </div>

    <div class="grid g2" style="margin-top:16px;">
      <div class="fc">
        <label>Th·ªùi gian thi ƒë·∫•u (d√πng cho t·ªïng k·∫øt)</label>
        <input id="finalMatchTime" type="datetime-local" />
      </div>
      <div class="fc">
        <label>ƒê·ªãa ƒëi·ªÉm</label>
        <input id="finalLocation" type="text" placeholder="VD: S√¢n A1" />
      </div>

      <div class="fc">
        <label>Tr·ªçng t√†i</label>
        <input id="refereeNameModal" type="text" placeholder="T√™n tr·ªçng t√†i" />
      </div>
      <div class="fc">
        <label>ƒê·ªôi tr∆∞·ªüng ƒê·ªôi A</label>
        <input id="captainANameModal" type="text" placeholder="T√™n ƒë·ªôi tr∆∞·ªüng A" />
      </div>

      <div class="fc">
        <label>ƒê·ªôi tr∆∞·ªüng ƒê·ªôi B</label>
        <input id="captainBNameModal" type="text" placeholder="T√™n ƒë·ªôi tr∆∞·ªüng B" />
      </div>
    </div>

    <div class="sig-area">
      <div class="sig-col">
        <div class="sig-label">K√Ω ƒê·ªôi tr∆∞·ªüng A</div>
        <canvas id="sigCaptainA"></canvas>
        <button id="clearSigA" class="btn ghost small sig-clear-btn">Xo√°</button>
      </div>

      <div class="sig-col">
        <div class="sig-label">K√Ω ƒê·ªôi tr∆∞·ªüng B</div>
        <canvas id="sigCaptainB"></canvas>
        <button id="clearSigB" class="btn ghost small sig-clear-btn">Xo√°</button>
      </div>

      <div class="sig-col">
        <div class="sig-label">K√Ω Tr·ªçng t√†i</div>
        <canvas id="sigReferee"></canvas>
        <button id="clearSigR" class="btn ghost small sig-clear-btn">Xo√°</button>
      </div>
    </div>

    <div class="note small-note" style="margin-top:10px;">
      D√πng tay (mobile) ho·∫∑c chu·ªôt (PC) ƒë·ªÉ k√Ω tr·ª±c ti·∫øp.
    </div>
  </div>

  <div class="modal-footer">
    <button id="btnConfirmFinish" class="btn success">üèÅ Ho√†n th√†nh tr·∫≠n</button>
  </div>
</div>

<script src="script.js"></script>
</body>
</html>